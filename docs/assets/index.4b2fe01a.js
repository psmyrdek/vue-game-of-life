import{o as a,c as i,n as $,u as f,F as _,r as m,a as y,b as x,d as C,e as d,t as L,f as S,g as N}from"./vendor.34e7aed0.js";const I=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}};I();var k=(n,e)=>{const r=n.__vccOpts||n;for(const[u,t]of e)r[u]=t;return r};const A={props:{alive:Boolean},setup(n){const r=n.alive?"cell cell-alive":"cell cell-dead";return(u,t)=>(a(),i("div",{class:$(f(r))},null,2))}};var B=k(A,[["__scopeId","data-v-4b5a4990"]]);const O={class:"stage"},P={props:{stage:Array},emits:["coords"],setup(n,{emit:e}){function r(u,t){e("coords",{row:u,col:t})}return(u,t)=>(a(),i("div",O,[(a(!0),i(_,null,m(n.stage,(o,l)=>(a(),i("div",{class:"row",key:`row-${l}-${o}`},[(a(!0),i(_,null,m(o,(s,c)=>(a(),y(B,{key:`cell-${c}-${s}`,alive:s,onClick:p=>r(l,c)},null,8,["alive","onClick"]))),128))]))),128))]))}};var W=k(P,[["__scopeId","data-v-7f874eff"]]);function g(n,e,r){n[e+1][r]=!0,n[e+2][r+1]=!0,n[e+2][r+2]=!0,n[e][r+2]=!0,n[e+1][r+2]=!0}function h(n,e,r){n[e][r]=!0,n[e+1][r]=!0,n[e+2][r]=!0}function E({rows:n,cols:e,liveWhen:r,reviveWhen:u}){const t=x({stage:[],liveWhen:r,reviveWhen:u});for(let o=0;o<n;o++){const l=[];for(let s=0;s<e;s++)l.push(!1);t.stage.push(l)}return g(t.stage,0,0),g(t.stage,20,20),h(t.stage,5,50),h(t.stage,20,50),t}function F(n,e,r){var u,t,o,l,s,c,p,v;return[(u=n[e-1])==null?void 0:u[r-1],(t=n[e-1])==null?void 0:t[r],(o=n[e-1])==null?void 0:o[r+1],(l=n[e])==null?void 0:l[r-1],(s=n[e])==null?void 0:s[r+1],(c=n[e+1])==null?void 0:c[r-1],(p=n[e+1])==null?void 0:p[r],(v=n[e+1])==null?void 0:v[r+1]].filter(b=>b).length}function G(n){const{stage:e,liveWhen:r,reviveWhen:u}=n,t=[];for(let o=0;o<e.length;o++)for(let l=0;l<e[o].length;l++){let s=e[o][l];const c=F(e,o,l);s&&!r.includes(c)?t.push({row:o,col:l,value:!1}):!s&&u.includes(c)&&t.push({row:o,col:l,value:!0})}t.forEach(({row:o,col:l,value:s})=>{e[o][l]=s})}function V(n,e){let r=null,u=C(!0);function t(){r=setInterval(()=>{n()},e),u.value=!1}function o(){clearInterval(r),u.value=!0}return{start:t,stop:o,isPaused:u}}const q={setup(n){const e=E({rows:30,cols:70,liveWhen:[2,3],reviveWhen:[3]}),{isPaused:r,start:u,stop:t}=V(()=>{G(e)},100);function o({row:l,col:s}){!r.value||(e.stage[l][s]=!e.stage[l][s])}return(l,s)=>(a(),i(_,null,[d("h1",null,"Game of Life "+L(f(r)?"(paused)":""),1),S(W,{stage:f(e).stage,onCoords:s[0]||(s[0]=c=>o(c))},null,8,["stage"]),d("button",{onClick:s[1]||(s[1]=c=>f(u)())},"Start"),d("button",{onClick:s[2]||(s[2]=c=>f(t)())},"Stop")],64))}};const z={setup(n){return(e,r)=>(a(),y(q))}};N(z).mount("#app");
